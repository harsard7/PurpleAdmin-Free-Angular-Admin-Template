<div *ngIf="isDataAvailable">
  <h5 class="page-title">
    All Student Details
  </h5>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="javascript:;">Report</a></li>
      <li class="breadcrumb-item active" aria-current="page">Create Report For Class</li>
    </ol>
  </nav>
</div>

<div class="col-lg-12 grid-margin stretch-card" *ngIf="userRole()">
  <div class="card">
    <div class="card-body">
      <h2>Create</h2>
      <div class="input-group">
        <div class="container">
        <form (ngSubmit)="setBasic()" #form="ngForm" class="form-basic">
          <div class="form-group">
            <label for="subject">Subject</label>
            <select name="subject" class="form-control form-control-sm" [(ngModel)]="selectedsubject">
              <option *ngFor="let subject of subjects" [ngValue]="subject">{{subject.title}}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="year">Year</label>
            <input type="number" class="form-control" id="year" required [(ngModel)]="report.year" min="1" max="14" name="year">
          </div>
          <div class="form-group">
            <label for="semester">Semester</label>
            <input type="number" class="form-control" id="semester" required [(ngModel)]="report.semester" min="1" max="2" name="semester">
          </div>
          <button type="submit" class="btn btn-dark">Create Form</button>
        </form>
        </div>
        <div class="container" id="form-response" *ngIf="isBasicSet">
          <form (ngSubmit)="onSubmit()" #form="ngForm" class="form-students">
            <div class="form-objects">
              <table class="table table-bordered">
                <tr *ngFor="let report of reports; index as i">
                  <td>
                    <i>{{report.student.firstName}}</i>
                  </td>
                  <td>
                    <b>{{report.student.lastName}}</b>
                  </td>
                  <td>
                    <input type="number" class="mark-input" required [(ngModel)]="marks[i]" min="1" max="5" name="mark">
                  </td>
                </tr>
              </table>
            </div>

            <button type="submit" (click)="goBack()" class="btn btn-gradient-warning">Back</button>
            <button type="submit" class="btn btn-gradient-primary mr-2">Submit</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
