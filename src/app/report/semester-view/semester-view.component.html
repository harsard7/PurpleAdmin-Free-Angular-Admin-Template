<div *ngIf="isDataAvailable">
  <h5 class="page-title">
    <h2>Reports</h2>
  </h5>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="javascript:;">Report</a></li>
      <li class="breadcrumb-item active" aria-current="page">View</li>
    </ol>
  </nav>
</div>

<div class="col-lg-12 grid-margin stretch-card" *ngIf="userRole()">
  <div class="card">
    <div class="card-body">
      <h2>Create</h2>
      <div class="input-group">
        <div class="container">
          <form (ngSubmit)="onSubmit()" #form="ngForm" class="form-report">
            <table class="table table-bordered">
              <tr>
                <td>
                  <div class="form-group">
                    <label for="year">Year</label>
                    <input type="number" class="form-control" id="year" required [(ngModel)]="year" min="1" max="14" name="year">
                  </div>
                </td>
                <td>
                  <div class="form-group">
                    <label for="semester">Semester</label>
                    <select id="semester" class="form-control" required [(ngModel)]="semester" name="semster">
                      <option [ngValue]="1">1</option>
                      <option [ngValue]="2">2</option>
                    </select>
                  </div>
                </td>
              </tr>
            </table>
            <button type="submit"  class="btn btn-gradient-primary mr-2">Submit</button>
            <button *ngIf="this.currentUser.authorities[0].authority + '' != 'ROLE_STUDENT'" (click)="goBack()"  class="btn btn-gradient-warning mr-2">Back</button>
          </form>
        </div>
        <div class="container" *ngIf="selected">
          <table class="table table-bordered" id="form-response">
            <thead >
            <th>Subject</th>
            <th>Marks</th>
            <th *ngIf="currentUser.authorities[0].authority + '' != 'ROLE_STUDENT'">Function</th>
            </thead>
            <tbody>
            <tr *ngFor="let report of reports">
              <td>{{report.subject.title}}</td>
              <td>{{report.mark}}</td>
              <td *ngIf="currentUser.authorities[0].authority + '' != 'ROLE_STUDENT'">
                <button (click)="update(report.id)"class="btn btn-gradient-warning">Update</button>
                <button (click)="delete(report.id)" class="btn btn-gradient-danger">Delete</button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
        </div>
      </div>
   </div>
</div>
